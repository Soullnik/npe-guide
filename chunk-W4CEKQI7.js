import{a as f,b as w,s as V,u as F}from"./chunk-J2REHNP7.js";import{A as U,v as x}from"./chunk-DYR6BFEB.js";import{e as L}from"./chunk-FAF55DAL.js";function P(o,r,c,m,n=null){let t=new x(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),e=new x(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);return M.extractMinAndMaxIndexed(o,r,c,m,t,e),n&&(t.x-=t.x*n.x+n.y,t.y-=t.y*n.x+n.y,t.z-=t.z*n.x+n.y,e.x+=e.x*n.x+n.y,e.y+=e.y*n.x+n.y,e.z+=e.z*n.x+n.y),{minimum:t,maximum:e}}function i(o,r,c,m=null,n){let t=new x(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),e=new x(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);return n||(n=3),M.extractMinAndMax(o,r,c,n,t,e),m&&(t.x-=t.x*m.x+m.y,t.y-=t.y*m.x+m.y,t.z-=t.z*m.x+m.y,e.x+=e.x*m.x+m.y,e.y+=e.y*m.x+m.y,e.z+=e.z*m.x+m.y),{minimum:t,maximum:e}}function C(o,r){let c=i(o,0,o.length/3),m=c.maximum.subtract(c.minimum).scale(.5).add(c.minimum),n=new x,t=new x,e=new x,a=new x,u=new x,l=new x,y=new x;for(let A=0;A<r.length;A+=3){let z=r[A],N=r[A+1],d=r[A+2];n.fromArray(o,z*3),t.fromArray(o,N*3),e.fromArray(o,d*3),t.subtractToRef(n,a),e.subtractToRef(n,u),x.CrossToRef(a,u,l),l.normalize();let _=n.x+t.x+e.x,X=n.y+t.y+e.y,E=n.z+t.z+e.z;y.set(_/3,X/3,E/3),y.subtractInPlace(m),y.normalize(),x.Dot(l,y)>=0&&(r[A]=d,r[A+2]=z)}}var M,I=L(()=>{"use strict";w();U();F();M=class{static extractMinAndMaxIndexed(r,c,m,n,t,e){for(let a=m;a<m+n;a++){let u=c[a]*3,l=r[u],y=r[u+1],A=r[u+2];t.minimizeInPlaceFromFloats(l,y,A),e.maximizeInPlaceFromFloats(l,y,A)}}static extractMinAndMax(r,c,m,n,t,e){for(let a=c,u=c*n;a<c+m;a++,u+=n){let l=r[u],y=r[u+1],A=r[u+2];t.minimizeInPlaceFromFloats(l,y,A),e.maximizeInPlaceFromFloats(l,y,A)}}};f([V.filter((...[o,r])=>!Array.isArray(o)&&!Array.isArray(r))],M,"extractMinAndMaxIndexed",null);f([V.filter((...[o])=>!Array.isArray(o))],M,"extractMinAndMax",null)});export{P as a,i as b,C as c,I as d};
